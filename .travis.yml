dist: trusty
language: python
python:
- 3.6
git:
  submodules: false
before_install:
- sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
- git submodule update --init --recursive
- |
  echo -e "travis_fold:start:$1\033[33;1m$2\033[0m"
  wget https://github.com/gohugoio/hugo/releases/download/v0.55.6/hugo_0.55.6_Linux-64bit.deb -O /tmp/hugo.deb &> /dev/null
  sudo dpkg -i /tmp/hugo.deb &> /dev/null
  hugo version
  echo -e "\ntravis_fold:end:$1\r"
script:
- hugo
deploy:
  provider: pages
  local_dir: public
  skip_cleanup: true
  github_token: "$GITHUB_TOKEN"
  verbose: true
  keep_history: true
  repo: Sam-Martin/sammartin.github.io
  target_branch: master
  on:
    branch: master
env:
  global:
  - secure: le+Z8JRtjrl5m5cd0VsiKCbLgFbw7QRgdX5zxLejIhk51iBfKWZG96bSYaSvKd9GKR5L+8ZBfbVJdmAHGYSsUemwZ/Xy4dQpdzgmzzxGU/9Hs7mNO6rVnGxqLFyklbMu3j2/UPlkr4qkBip8AVyuKLTBlZnvlVczxqGj8OPDIrJHQUF1WxCuEvh+Oi1ORjA9MAE9ZmOESpqKMMWBjTfNoLDPqWfOnvmCQH5MZv5ee4LMpAxrYVq/Jj0LNua6rAoewhlidIYCb6N5Wj8bC3MlgO130K/tUbAEKnfGRqRHN+yx0V6SKQAKy1x3eJqGb6l2eUBWBtEOB/Ixtne034JHFB2KTIaxbn7CE5wsMtEKb8ldnknJhsFZ/m1bp0V0jyecE9PfYfg7vjfgSvw92414npAe9+1GWYB5HnwshPvf31S+w2DJ0N3WSTB0Ishh2ogvryO1fXu9J8mSpEpQ41IxLHWTxi3JdDn9xFL6oHu15YnELpWaLPXWjmoXBmsln2hJjqvR2JHrKHvRU2gd7HTsPiJbH3X3xOb6WfmM09dUiJMC2MDZGFCpdSl3jF4aflLVWAJifwTO8HhzjOWj/kl6Xx75at5d81hsRxfB/0T/YjCqT3s0QybensDcrFTiQ51fmCejHcN7E8u8epx6KiUjl05E+gsDQVI8gDFHjsdEUZI=
